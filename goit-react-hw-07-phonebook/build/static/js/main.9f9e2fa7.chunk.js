(this["webpackJsonpgoit-react-hw-02-feedback"]=this["webpackJsonpgoit-react-hw-02-feedback"]||[]).push([[0],{27:function(e,t,n){e.exports=n(56)},56:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(10),o=n.n(r),u=n(3),l=n(7),i=n(8),s=n.n(i),b=n(16),f=n(9),h=n(1),m=n(6),d=n(4),O=Object(m.b)({name:"phonebookContact",initialState:{contacts:[],loading:!1,error:null},reducers:{addRequest:function(e){return Object(h.a)(Object(h.a)({},e),{},{loading:!0})},addSuccess:function(e,t){var n=t.payload;return Object(h.a)(Object(h.a)({},e),{},{contacts:[].concat(Object(f.a)(e.contacts),[n]),loading:!1})},addError:function(e,t){var n=t.payload;return Object(h.a)(Object(h.a)({},e),{},{error:n,loading:!1})},getSucces:function(e,t){var n=t.payload;return Object(h.a)(Object(h.a)({},e),{},{contacts:[].concat(Object(f.a)(e.contacts),Object(f.a)(n)),loading:!1})},removeRequest:function(e){return Object(h.a)(Object(h.a)({},e),{},{loading:!0})},removeSuccess:function(e,t){var n=t.payload;return Object(h.a)(Object(h.a)({},e),{},{contacts:Object(f.a)(e.contacts.filter((function(e){return e.id!==n}))),loading:!1})},removeError:function(e,t){var n=t.payload;return Object(h.a)(Object(h.a)({},e),{},{error:n,loading:!1})}}}),p=Object(m.b)({name:"theme",initialState:"light",reducers:{toggle:function(e){return"light"===e?"black":"light"}}}),j=Object(d.c)({phonebook:O.reducer,theme:p.reducer}),E=n(12),g=n.n(E),v=O.actions,k=v.addRequest,w=v.addSuccess,y=v.addError,S=v.getSucces,_=v.removeRequest,C=v.removeSuccess,D=v.removeError,R=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.phonebook.contacts})),n=Object(u.c)((function(e){return e.theme}));Object(c.useEffect)((function(){e(function(){var e=Object(b.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(k()),g.a.get("http://localhost:2000/contacts").then((function(e){return t(S(e.data))})).catch((function(e){return t(y(e))}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[e]);var r=Object(c.useState)(""),o=Object(l.a)(r,2),i=o[0],f=o[1],h=Object(c.useState)(""),m=Object(l.a)(h,2),d=m[0],O=m[1];return a.a.createElement("section",null,a.a.createElement("h2",{style:{color:"light"===n?"black":"white"}},"Phonebook"),a.a.createElement("form",{onSubmit:function(n){n.preventDefault();var c,a=!1;t.forEach((function(e){e.name===i&&(a=!0,alert("Contact is already exist"))})),!a&&""!==i&&""!==d&&e((c={name:i,number:d},function(e){e(k()),g.a.post("http://localhost:2000/contacts",c).then((function(t){return e(w(t.data))})).catch((function(t){return e(y(t))}))}))}},a.a.createElement("input",{onChange:function(e){var t=e.target;f(t.value)},name:"name",type:"text",placeholder:"Enter name..."}),a.a.createElement("br",null),a.a.createElement("input",{onChange:function(e){var t=e.target;O(t.value)},name:"number",type:"number",placeholder:"Enter phone num..."}),a.a.createElement("br",null),a.a.createElement("button",{type:"submit"},"Add contact")))},x=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.phonebook.contacts})),n=Object(u.c)((function(e){return e.theme})),r=Object(c.useState)(""),o=Object(l.a)(r,2),i=o[0],f=o[1],h=t.filter((function(e){return e.name.toLowerCase().includes(i.toLowerCase())}));return 0!==t.length?a.a.createElement("section",null,a.a.createElement("h2",{style:{color:"light"===n?"black":"white"}},"Contacts"),t.length>1?a.a.createElement("input",{placeholder:"Search...",value:i,onChange:function(e){var t=e.target;f(t.value)}}):null,a.a.createElement("ul",null,h.map((function(t){var c=t.id,r=t.name,o=t.number;return a.a.createElement("li",{key:c,style:{color:"light"===n?"black":"white"}},r,": ",o,a.a.createElement("button",{onClick:function(){return e(function(e){return function(){var t=Object(b.a)(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(_()),g.a.delete("http://localhost:2000/contacts/".concat(e)).then((function(){return n(C(e))})).catch((function(e){return n(D(e))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(c))}},"Delete"))})))):null},q=p.actions.toggle,L=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.theme}));return a.a.createElement("section",{style:{backgroundColor:"light"===t?"white":"grey"}},a.a.createElement("button",{onClick:function(){return e(q())}},t),a.a.createElement("br",null),a.a.createElement(R,null),a.a.createElement(x,null))},N=Object(m.a)({reducer:j},window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());o.a.render(a.a.createElement(u.a,{store:N},a.a.createElement(L,null)),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.9f9e2fa7.chunk.js.map